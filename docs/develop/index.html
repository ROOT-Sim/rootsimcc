<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The ROme OpTimistic Simulator: The ROme OpTimistic Simulator (ROOT-Sim) 3.0.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="flatdoc.css" rel="stylesheet" type="text/css"/>
<link href="inline-params.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rs.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The ROme OpTimistic Simulator
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">A General-Purpose Multithreaded Parallel/Distributed Simulation Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The ROme OpTimistic Simulator (ROOT-Sim) 3.0.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/ROOT-Sim/core/actions"><object type="image/svg+xml" data="https://github.com/ROOT-Sim/core/workflows/ROOT-Sim%20core%20CI/badge.svg" style="pointer-events: none;">Build Status</object></a> <a href="https://codecov.io/gh/ROOT-Sim/core"><object type="image/svg+xml" data="https://codecov.io/gh/ROOT-Sim/branch/master/graphs/badge.svg" style="pointer-events: none;">codecov.io</object></a> <a href="https://www.codacy.com/gh/ROOT-Sim/core/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=ROOT-Sim/core&amp;utm_campaign=Badge_Grade"><img src="https://app.codacy.com/project/badge/Grade/7519f016f3d942b9b12c6ed03ae4ecf8" alt="Codacy Badge" class="inline"/></a> <a href="https://root-sim.github.io/core/docs/"><img src="https://img.shields.io/endpoint?url=https%3A%2F%2Froot-sim.github.io%2Fcore%2Fdocs%2Fcoverage%2Fmaster.json" alt="doc coverage" class="inline"/></a> <a href="https://github.com/ROOT-Sim/core/issues"><img src="https://img.shields.io/github/issues/ROOT-Sim/core" alt="GitHub issues" class="inline"/></a> <a href="https://github.com/ROOT-Sim/core/blob/master/COPYING"><img src="https://img.shields.io/github/license/ROOT-Sim/core" alt="GitHub" class="inline"/></a></p>
<p><em>Brought to you by the <a href="https://hpdcs.github.io/">High Performance and Dependable Computing Systems (HPDCS)</a> Research Group</em></p>
<hr  />
<p>The ROme OpTimistic Simulator is an x86-64 Open Source, distributed multithreaded parallel simulation library developed using C/POSIX technology. It transparently supports all the mechanisms associated with parallelization and distribution of workload across the nodes (e.g., mapping of simulation objects on different kernel instances) and optimistic synchronization (e.g., state recoverability). <br  />
 Distributed simulations rely on MPI3. In particular, global synchronization across the different nodes relies on asynchronous MPI primitives, for increased efficiency.</p>
<p>The programming model supported by ROOT-Sim allows the simulation model developer to use a simple application-callback function named <code><a class="el" href="core_8h.html#a6ccb26838b8a51856a18a702f84eed25" title="The total number of threads running in the node.">ProcessEvent()</a></code> as the event handler, whose parameters determine which simulation object is currently taking control for processing its next event, and where the state of this object is located in memory. An object is a data structure, whose state can be scattered on dynamically allocated memory chunks, hence the memory address passed to the callback locates a top level data structure implementing the object state-layout.</p>
<p>ROOT-Sim's development started as a research project late back in 1987, and is currently maintained by the High Performance and Dependable Computing Systems group, a joint research group between Sapienza, University of Rome and University of Rome "Tor Vergata".</p>
<h1>Dependencies</h1>
<p>To build the project you need a C11 compiler such as GCC 8 or a later version, and the Meson build system.</p>
<h1>Building and installing</h1>
<p>Run:</p>
<div class="fragment"><div class="line">meson build -Dprefix={installdir}</div>
<div class="line">cd build</div>
<div class="line">ninja test</div>
<div class="line">ninja install</div>
</div><!-- fragment --><p>where <code>{installdir}</code> is your preferred installation directory expressed as an absolute path.\ Alternatively you can skip the <code>-Dprefix</code> altogether: ROOT-Sim will be installed in your system directories.</p>
<h1>Compile and run a model</h1>
<p>ROOT-Sim ships with two sample models in the <code>models</code> folder of the project: <code>pcs</code> and <code>phold</code>. For example, to compile the <code>pcs</code> model simply run:</p>
<div class="fragment"><div class="line">cd models/pcs</div>
<div class="line">{installdir}/bin/rootsim-cc *.c</div>
</div><!-- fragment --><p>If you installed ROOT-Sim system-wide the second command becomes simply:</p>
<div class="fragment"><div class="line">rootsim-cc *.c -o model</div>
</div><!-- fragment --><p>To test the correctness of the model, it can be run sequentially, typing:</p>
<div class="fragment"><div class="line">./model --serial --lp &lt;number of required LPs&gt; This allows to spot errors in the implementation more easily.</div>
</div><!-- fragment --><p>Then, to run it in parallel, type: </p><div class="fragment"><div class="line">./model --wt &lt;number of desired threads&gt; --lp &lt;number of required LPs&gt;</div>
</div><!-- fragment --><p>To run in a distributed environment, you can use standard MPI commands, such as:</p>
<div class="fragment"><div class="line">mpiexec -n 2 --hostfile hosts --map-by node ./model --wt 2 --lp 16</div>
</div><!-- fragment --><p>This command runs the simulation model on two nodes (<code>-n 2</code>) specified in the hosts file. Each node uses two concurrent threads (<code>--wt 2</code>). The simulation involves 16 total Logical Processes (<code>--lp 16</code>). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
